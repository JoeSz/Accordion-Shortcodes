(function(o){"use strict";var t;o.fn.accordionShortcodes=function(t){function n(t,n){return{id:t.attr("id"),controller:t,controls:t.attr("aria-controls"),content:o("#"+t.attr("aria-controls")),isOpen:n||!1}}function e(t){return t.isOpen?d.clickToClose&&r(t):(d.autoClose&&o.each(i,function(o,t){r(t)}),c(t,!0)),!1}function c(t,n){t.content.clearQueue().stop().slideDown(l,function(){n&&d.scroll&&o("html, body").animate({scrollTop:t.controller.offset().top-d.scrollOffset},l)}),t.controller.addClass("open read"),t.controller.attr("aria-expanded","true"),t.content.attr("aria-hidden","false"),t.isOpen=!0}function r(o){o.content.slideUp(l),o.controller.removeClass("open"),o.controller.attr("aria-expanded","false"),o.content.attr("aria-hidden","true"),o.isOpen=!1}var i=[],s=o("#"+t.id+" .js-accordion-controller"),a=window.location.hash,l=250,d=o.extend({autoClose:!0,openFirst:!1,openAll:!1,clickToClose:!1,scroll:!1,usebuttons:!1},t);return o(".accordion").removeClass("no-js"),d.scrollOffset=0|Math.floor(parseInt(d.scroll)),s.each(function(t){var s=!1;switch(0==t&&d.openFirst&&(s=!0),d.openAll&&(s=!0),o(this).data("initialstate")){case"open":s=!0;break;case"closed":s=!1}a.length&&a=="#"+o(this).attr("id")?s=!0:a.length&&a!="#"+o(this).attr("id")&&(s=!1);var l=n(o(this),s);i.push(l),o(this).click(function(o){e(l)}),o(this).keyup(function(t){var n=t.which;d.usebuttons||13!==n&&32!==n||o(this).click(),27===n&&d.clickToClose&&r(l)}),l.isOpen?c(l):r(l)}),o(window).on("hashchange",function(){a=o(window.location.hash),a.length&&a.hasClass("js-accordion-controller")&&a.click()}),this},o(window).on("load",function(){for(var n=0;n<accordionShortcodesSettings.length;n+=1)t=accordionShortcodesSettings[n],o("#"+t.id).accordionShortcodes(t)})})(jQuery);